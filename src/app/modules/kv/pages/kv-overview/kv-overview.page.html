<div>
  @if (kv$ | async; as kv) {
    <!-- Data Browser -->
    <div class="card shadow-sm mt-8">
      <div class="p-4">
        <h4 class="mb-4">Data Browser</h4>
        <app-kv-data-browser [namespaceId]="kvId" />
      </div>
    </div>

    <!-- Namespace Info -->
    <div class="card shadow-sm mt-8">
      <div class="inline-block p-4 w-full">
        <h4>Namespace Info</h4>
        <div class="mt-4">
          <label class="text-sm text-gray-500">Namespace ID</label>
          <div class="font-mono text-sm bg-gray-100 dark:bg-gray-800 p-2 rounded">{{ kv.id }}</div>
        </div>
        @if (kv.desc) {
          <div class="mt-4">
            <label class="text-sm text-gray-500">Description</label>
            <div class="text-sm">{{ kv.desc }}</div>
          </div>
        }
      </div>
    </div>

    <!-- Usage -->
    <div class="card shadow-sm mt-8">
      <div class="inline-block p-4 w-full">
        <h4>Usage</h4>
        <div class="mt-4">
          <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
            Once bound to your environment, you can access the KV store like this:
          </p>
          <pre class="text-xs bg-gray-100 dark:bg-gray-800 p-3 rounded block overflow-x-auto"><code>// Get a value
const value = await env.KV.get('myKey');

// Set a value
await env.KV.put('myKey', 'myValue');

// Set with expiration (seconds)
await env.KV.put('session', token, &#123; expiresIn: 3600 &#125;);

// Delete a key
await env.KV.delete('myKey');

// List keys
const keys = await env.KV.list();
const filtered = await env.KV.list(&#123; prefix: 'user:' &#125;);</code></pre>
        </div>
      </div>
    </div>

    <app-debug [expand]="true">{{ kv | json }}</app-debug>
  }
</div>
