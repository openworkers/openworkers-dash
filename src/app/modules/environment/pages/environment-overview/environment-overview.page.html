<div>
  @if (environment$ | async; as environment) {
    <div class="card shadow-sm mt-8">
      <div class="inline-block p-4 w-full">
        <h4>Variables</h4>
        <app-key-value [kv]="environment.values ?? []" (update)="update(environment.id, $event)" />
      </div>
    </div>
    <div class="card shadow-sm mt-8">
      <div class="inline-block p-4 w-full">
        <h4 class="mb-2">Related workers</h4>
        @if (environment.workers?.length) {
          <div>
            @for (worker of environment.workers; track worker) {
              <div class="flex">
                <a class="btn-light flex-1 text-left justify-start" [routerLink]="['/worker', worker.id]">
                  {{ worker.name }}
                </a>
              </div>
            }
          </div>
        } @else {
          <div class="text-center p-4">
            <p class="text-gray-500">No related workers</p>
            <p>
              <a routerLink="/workers">Go to workers</a>
            </p>
          </div>
        }
      </div>
    </div>
    <app-debug [expand]="true">{{ environment | json }}</app-debug>
  }
</div>

